var app=angular.module("wttDashboard",["tc.chartjs","ngSanitize","wtt.ui.bootstrap","ngCookies","cgBusy","scrollable-table","toastr","ngTagsInputWtt","angular-ladda"]);app.config(["$httpProvider","laddaProvider",function(e,t){e.interceptors.push("authInterceptor"),t.setOption({style:"expand-left"})}]),app.controller("editPageController",["$scope","$http","$q","stateService","$timeout","$interval","$cookies","suggestionsService","keywordService","httpService","languageService","$sce","toastr","synonymService",function(e,t,n,o,i,a,r,s,l,u,c,g,d,p){var y=wtt_globals.wtt_base_api_url,f=jQuery.noConflict();if(null===localStorage.getItem("wtt_token")){var m=wtt_globals.authcode;""!==m&&localStorage.setItem("wtt_token",m)}u.getData(y+"user/authenticated").then(function(t){e.auth=t,t?u.getData(y+"user/info").then(function(t){function m(){ee.map(function(e){f("[id^="+e+"_]").each(function(){-1===f.inArray(this.id,ee)&&ee.push(this.id)})})}function h(e){try{var t=v(e)?tinymce.get(e).getContent():document.getElementById(e).value}catch(e){console.warning(e)}finally{return t||""}}function v(e){return"undefined"!=typeof tinymce&&null!==tinymce.get(e)}function w(e){return e="",ee.map(function(t){e+="\n"+h(t)}),e}function S(e){v(e)&&tinymce.get(e).on("keyup",C)}function C(){clearTimeout(G),G=setTimeout(function(){ce().then(function(t){e.HtmlContent=t,e.runRules=!0,e.runSuggestions()})},2e3)}function b(e){return f("#"+e).val()}function T(e){var t=e.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!==t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2]:null}function L(){return 0!==f("#woocommerce-product-data").length?"WooCommerce":0!==f("#et_pb_toggle_builder.et_pb_builder_is_used").length?"DiviBuilder":""!==wtt_globals.tcb_editor_enabled&&0!==f("#thrive_preview_button").length?"ThriveEnabled":""==wtt_globals.tcb_editor_enabled&&0!==f("#thrive_preview_button").length&&""!==wtt_globals.tve_updated_post?"Thrive":""!==wtt_globals.vc_enabled||"undefined"!=typeof vc?"VisualComposer":""!==wtt_globals.avia_enabled?"AviaBuilder":f(".rwmb-meta-box")[0]&&""!==wtt_globals.rwmbEnabled?"RWMB":"undefined"!=typeof acf&&""!==wtt_globals.acfOptionEnabled?"ACF":void 0}function x(){return f.ajax({url:webtexttoolnonce.ajaxurl,type:"post",dataType:"json",data:{nonce:webtexttoolnonce.nonce,post_id:wtt_globals.postId,action:webtexttoolnonce.action+"_tve_editor_content"}}).done(function(t){e.HtmlContent=t.content,e.runRules=!0,e.runSuggestions()})}function k(){""!==wtt_globals.tve_updated_post&&(e.HtmlContent=wtt_globals.tve_updated_post+tinymce.get("content").getContent(),e.runRules=!0,e.runSuggestions(),me())}function R(e,t){return void 0===e&&(e=wpActiveEditor),void 0===t&&(t=e),f("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinymce.get(e)?tinymce.get(e).getContent():f("#"+t).val()}function H(e){return 0===(e||"").trim().length}function E(){return{ReadingLevel:1,DifficultWordsLevel:1,LongSentencesLevel:1,AdjectivesLevel:1,WhitespacesLevel:1,BulletPointsLevel:1,ImagesLevel:1,GenderLevel:"m",GenderList:1,JargonList:1,SingularPluralLevel:1,RepetitionLevel:1,TextLengthRuleLevel:1}}function I(){var t=e.HtmlContent;return e.checkboxModel.isChecked&&(t="<H1>"+e.Title+"</H1>"+t),t}function M(t){e.analyzing=!0,O(),e.cqModel={content:I(),languageCode:e.localLanguageCode,qualityLevels:e.settings,ruleSet:t},u.postData(y+"contentquality/suggestions",e.cqModel).then(function(t){D(),e.userInfo.Credits=e.userInfo.Credits-1,A(t.Suggestions),$e(t),e.LastQualityRun=t.ModifiedDate,e.LastModified=t.ModifiedDate,e.contentQualityDetails=t.Details},function(t){d.error(e.data.Resources[t].toString()),P(e.data.Resources[t].toString()),e.analyzing=!1})}function A(t,n){e.contentQualitySuggestions=t.Suggestions,e.QualityScore=t.PageScore,e.QualityScoreTag=t.PageScoreTag,e.analyzing=!1,!1!==n&&e.$broadcast("runSuggestions",{engine:"content"})}function O(){e.QualityScore=".",e.QualityScoreTag="Analyzing...",e.loadingStep=0,e.$broadcast("runSuggestions",{engine:"loading"}),e.contentQualityLoading=!0}function D(){e.contentQualityLoading=!1}function P(t){e.contentQualityLoading=!1,e.$broadcast("runSuggestions",{engine:"error",error:t})}function N(){return t.Credits>0}function K(e,t){var n,t=void 0!==t&&t;return n=void 0!==window.tinyMCE&&window.tinyMCE.get(e)&&!window.tinyMCE.get(e).isHidden()?window.tinyMCE.get(e).getContent():f("#"+e).val(),t&&void 0!==window.tinyMCE&&(n=(n=n.replace(/<p>\[/g,"[")).replace(/\]<\/p>/g,"]")),n.trim()}function j(){l.getKeywordSources().then(function(t){e.KeywordSources=t;var n=c.getActiveLanguageCode(),o=nt[n]||n,i=_.find(t,function(e){return e.Value==o}),a=_.isUndefined(tt)?i:_.find(t,function(e){return e.Value==tt});e.searchModel.selectedSource=a})}function B(){return!(""==b("wtt-keyword")||null==b("wtt-keyword"))}function $(){c.getLanguages().then(function(t){e.languages=t})}e.userInfo=t,e.runRules=!1,e.runRulesTimeout=2e3,e.isCollapsed=!1,e.keywordSet=!1,e.ruleSet=1,e.activeEngine="seo",e.HtmlContent="";var q,U=[],Q=null,J=f("input#wtt-synonym-tags"),z=f.map(J,function(e){return{text:e.value}});!function(e){"all"===(e=void 0!==e?e:"default")?q={}:q[e]={}}("all");var G,V=function(e,t,n){(n=void 0!==n?n:"default")in q||(q[n]={}),q[n][e]=t},W=function(e,t){return(t=void 0!==t?t:"default")in q&&e in q[t]&&q[t][e]},F=function(e,t){return t=void 0!==t?t:"default",(e=_.uniq(e)).filter(function(e){return!1===W(e,t)})},X=function(e){var t=F(e,"attachment");0!==t.length&&window.wp.ajax.post("query-attachments",{query:{post__in:t}}).done(function(e){_.each(e,function(e){V(e.id,e,"attachment")})})},Y=function(e){var t=W(e,"attachment");return t||!1},Z=function(){var e=function(e){return e=_.map(e,function(e){if("text"==e.type)e.content=e.$el.find("input[type=text][id^=acf]").val();else if("textarea"==e.type)e.content=e.$el.find("textarea[id^=acf]").val();else if("wysiwyg"==e.type){var t=e.$el.find("textarea")[0],n=t.id;t.value;e.content=R(n)}return e})},t=function(e){var t=[];return e=_.map(e,function(e){if("image"!==e.type)return e;e.content="";var n=e.$el.find("input[type=hidden]").val();if(t.push(n),Y(n)){var o=Y(n);e.content+='<img src="'+o.url+'" alt="'+o.alt+'" title="'+o.title+'">'}return e}),X(t),e},n=function(e){return _.filter(e,function(e){return!_.contains(wtt_globals.blacklistTypeACF,e.type)})},o=function(e){return _.filter(e,function(e){return"key"in e})},i=function(){var i=o(n(l)),a=_.uniq(_.pluck(i,"type"));return _.each(a,function(n){i=e(t(i))}),i};if(parseFloat(wtt_globals.acfVersion)>=5&&void 0!==acf.get_fields()){var a=["flexible_content","repeater","group"],r=[],s=[],l=_.map(acf.get_fields(),function(e){var t=f.extend(!0,{},acf.get_data(f(e)));return t.$el=f(e),t.post_meta_key=t.name,-1===a.indexOf(t.type)?r.push(t):s.push(t),t});if(0===s.length)return l;_.each(r,function(e){_.each(s,function(t){f.contains(t.$el[0],e.$el[0])&&("flexible_content"!==t.type&&"repeater"!==t.type||(t.children=t.children||[],t.children.push(e),e.parent=t,e.post_meta_key=t.name+"_"+(t.children.length-1)+"_"+e.name),"group"===t.type&&(t.children=[e],e.parent=t,e.post_meta_key=t.name+"_"+e.name))})}),l=l}else{var u=wtt_globals.fieldSelectorsACF,c=[];f("#post-body, #edittag").find(u.join(",")).each(function(){var e=f(this).parents(".field").last();c.push({$el:e,key:e.data("field_key"),name:e.data("field_name"),type:e.data("field_type"),post_meta_key:e.data("field_name")})}),l=c}return function(e){("undefined"!=typeof tinyMCE||void 0!==tinyMCE.editors||0!==tinyMCE.editors.length||null!==tinyMCE.get("content")||tinyMCE.get("content").isHidden())&&(e=tinyMCE.get("content")&&tinyMCE.get("content").getContent()||"");var t=i();return _.each(t,function(t){void 0!==t.content&&""!==t.content&&(e+="\n"+t.content)}),e}()},ee=wtt_globals.rwmbFields,te={};f(document).on("clone",':input[class|="rwmb"]',function(){-1===f.inArray(this.id,ee)&&(ee.push(this.id),S(this.id))});var ne=function(e,t,n){(n=void 0!==n?n:"default")in te||(te[n]={}),te[n][e]=t},oe=function(e,t){return(t=void 0!==t?t:"default")in te&&e in te[t]&&te[t][e]},ie=function(e){var t=oe(e,"attachment");return t||!1},ae=function(e,t){return t=void 0!==t?t:"default",(e=_.uniq(e)).filter(function(e){return!1===oe(e,t)})},re=function(e){var t=n.defer(),o=ae(e,"attachment");if(0!==o.length)return f.ajax({url:webtexttoolnonce.ajaxurl,type:"POST",data:{action:"query-attachments",query:{post__in:o}},success:function(e){_.each(e.data,function(e){ne(e.id,e,"attachment")}),t.resolve(e)},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}}),t.promise},se=function(){var e=n.defer(),t=[],o=[];return f(".rwmb-image-item")[0]?(f(".rwmb-image-item").each(function(){var e=f(this).children("input[type=hidden]").attr("value");o.push(e)}),re(o).then(function(n){for(var o=0;o<n.data.length;o++)if(ie(n.data[o].id)){var i=ie(n.data[o].id);t+='<img src="'+i.url+'" alt="'+i.alt+'" title="'+i.title+'">'}e.resolve(t)})):e.reject(),e.promise},le=function(){var e,t=n.defer(),o="";return m(),ee.map(S),se().then(function(n){e=w(),n&&(o=e+n,t.resolve(o))},function(){o=w(),t.resolve(o)}),t.promise},ue=function(){var e,t=n.defer(),o=[],i=[];if(e=w(),f(".rwmb-image-item")[0]){f(".rwmb-image-item").each(function(){var e=f(this).children("input[type=hidden]").attr("value");i.push(e)});for(var a=0;a<i.length;a++)if(ie(i[a])){var r=ie(i[a]);o+='<img src="'+r.url+'" alt="'+r.alt+'" title="'+r.title+'">'}e+=o,t.resolve(e)}else t.resolve(e);return t.promise},ce=function(e){var t=n.defer();return("undefined"!=typeof tinyMCE||void 0!==tinyMCE.editors||0!==tinyMCE.editors.length||null!==tinyMCE.get("content")||tinyMCE.get("content").isHidden())&&(e=tinyMCE.get("content")&&tinyMCE.get("content").getContent()||""),ue().then(function(n){t.resolve(e+=n)}),t.promise},ge=function(e){var t=n.defer();return("undefined"!=typeof tinyMCE||void 0!==tinyMCE.editors||0!==tinyMCE.editors.length||null!==tinyMCE.get("content")||tinyMCE.get("content").isHidden())&&(e=tinyMCE.get("content")&&tinyMCE.get("content").getContent()||""),le().then(function(n){t.resolve(e+=n)}),t.promise};e.pageKeywordSynonyms=z,e.getKeywordSynonyms=function(e){var t=n.defer();if(_.isNull(Q)){if(""!==f("#wtt-keyword").val()){var o=f("#wtt-keyword").val();p.getSynonyms(o).then(function(e){Q=_.pluck(e.Associations,"Synonym"),t.resolve(Q)})}}else t.resolve(Q);return t.promise},e.onSynonymsAdded=function(e){f("#wttSynonymTags li").length<=2&&f("#wttSynonymTags").append('<li><input type="hidden" id="wtt-synonym-tags" name="wtt_synonym_tags[]" value="'+e.text+'"/></li>')},e.onSynonymsRemoved=function(e){f('input[value="'+e.text+'"]').closest("li").remove()},3===t.UserState&&t.TrialDays<0&&d.warning('Upgrade your account <a href="https://app.webtexttool.com/#/register-paid" target="_blank">here</a>',"Your trial account has expired!",{closeButton:!0,allowHtml:!0,timeOut:0,extendedTimeOut:0}),e.htmlPopover=g.trustAsHtml('<p class="tooltip-content">Select for which language/country you want to optimize your content.<br><br>Enter your keyword.<br><br>Add synonyms (optional).</p>'),e.htmlPopoverS=g.trustAsHtml('<p class="tooltip-content">While writing, multiple suggestions appear here. These suggestions tell you how you can improve your text for the search engines, according to the latest SEO rules, but also how to structure your text for your readers. Following these suggestions, will raise your optimization score!</p>'),e.htmlPopoverP=g.trustAsHtml('<p class="tooltip-content">Here you can set max 3 alternative keywords that support the main keyword.</p>');var de=wtt_globals.permalink;""!==de&&(e.permalink=de.replace(/-/g," ")),"publish"!==b("original_post_status")&&(e.permalink=f("#editable-post-name").text().replace(/-/g," ")),observeDOM(document.getElementById("edit-slug-box"),function(){e.permalink=f("#editable-post-name").text().replace(/-/g," "),f("input#new-post-slug").keyup(function(){e.permalink=f(this).val().replace(/-/g," "),null!==e.permalink&&e.updateSuggestions()})});var pe=wtt_globals.siteUrl;null!==pe&&(e.domainUrl=function(e){var t=T(e),n=t;if(null!==t){var o=t.split(".").reverse();null!==o&&o.length>1&&(n=o[1]+"."+o[0],-1!=t.toLowerCase().indexOf(".co.uk")&&o.length>2&&(n=o[2]+"."+n))}return n}(pe)),r.put("wtt_lang",t.DefaultLanguageCode),e.localLanguageCode=t.DefaultLanguageCode,e.checkboxModel={isChecked:!1};var ye=wtt_globals.processPageTitleAsH1;e.processTitleAsH1Click=function(){fe(e.checkboxModel.isChecked),d.success("Process title as H1 updated"),e.runRules=!0};var fe=function(e){var t=n.defer();return f.ajax({url:webtexttoolnonce.ajaxurl,type:"POST",dataType:"json",data:{action:webtexttoolnonce.action+"_process_page_title",nonce:webtexttoolnonce.nonce,data:e,postId:wtt_globals.postId},success:function(e){t.resolve(e)},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}}),t.promise},me=function(){if(tinymce.get("content")){var t=tinymce.get("content");t.isNotDirty=!1,t.on("focus",function(){Qe().then(function(){U=["MAINCONTENT"],Ue()})}),t.on("blur",function(){Qe()});var n=a(function(){t.isDirty()&&!t.isNotDirty&&(e.HtmlContent=t.getContent(),"Thrive"===L()&&(e.HtmlContent=wtt_globals.tve_updated_post+t.getContent()),e.updateSuggestions(),t.isNotDirty=!0)},1e3);t.isNotDirty&&a.cancel(n)}else console.error("TinyMCE editor is not enabled!")};e.useMyKeyword=function(){function t(){e.runRules=!0,e.runSuggestions(),me()}if(e.pageHasKeyword()){if(!B())return void d.warning("Keyword is required!");e.Keyword=b("wtt-keyword"),e.Title=b("title"),e.Description=b("wtt_description"),("true"==ye||document.getElementById("process-title-as-h1").checked)&&(e.checkboxModel.isChecked=!0),"DiviBuilder"===L()&&f("#et_pb_main_editor_wrap").hasClass("et_pb_hidden")?ve():"WooCommerce"===L()?he():"VisualComposer"===L()?Pe():"AviaBuilder"===L()?Ne():"ACF"===L()?(e.HtmlContent=Z(),e.runRules=!0,e.runSuggestions()):"RWMB"===L()?ge().then(function(t){e.HtmlContent=t,e.runRules=!0,e.runSuggestions()}):"ThriveEnabled"===L()?x():"Thrive"===L()?k():tinymce.get("content")&&tinymce.activeEditor.serializer?(e.HtmlContent=tinymce.get("content")&&tinymce.get("content").getContent()||"",t()):i(function(){tinymce.get("content")&&tinymce.activeEditor.serializer?(e.HtmlContent=tinymce.get("content")&&tinymce.get("content").getContent()||"",t()):i(function(){tinymce.get("content")&&tinymce.activeEditor.serializer?e.HtmlContent=tinymce.get("content")&&tinymce.get("content").getContent()||"":(f("textarea#content").length>0&&(e.HtmlContent=document.getElementById("content")&&document.getElementById("content").value||""),f("#wp-content-wrap").hasClass("html-active")&&"none"!==f("#wp-content-wrap").css("display")&&d.warning("Switch the editor in Visual mode to continue optimizing your content.","You might have the TinyMCE editor in HTML mode.",{closeButton:!0,timeOut:0,extendedTimeOut:0})),t()},2e3)},1e3),i(function(){e.isCollapsed=!0,e.keywordSet=!0},500)}else d.warning("Keyword is required!")};var he=function(){if(e.ruleSet=2,"undefined"!=typeof tinymce){for(var t="",n=0;n<tinymce.editors.length;n++)t+=R(tinymce.editors[n].id);e.HtmlContent=t,e.runRules=!0,e.runSuggestions()}},ve=function(){i(function(){var t=K("content",!0);void 0!==window.et_builder_version?f.ajax({type:"POST",url:et_pb_options.ajaxurl,data:{action:"et_pb_execute_content_shortcodes",et_admin_load_nonce:et_pb_options.et_admin_load_nonce,et_pb_unprocessed_data:t},success:function(t){e.HtmlContent=t,e.runRules=!0,e.runSuggestions()},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}}):f.ajax({type:"POST",url:webtexttoolnonce.ajaxurl,data:{action:webtexttoolnonce.action+"_convert_divi_shortcodes",nonce:webtexttoolnonce.nonce,unprocessed_data:t},success:function(t){e.HtmlContent=t,e.runRules=!0,e.runSuggestions()},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}})},1e3)},we="("+wtt_globals.wtt_shortcode_tags.join("|")+")",Se=new RegExp("\\[[^<>&/\\[\\]\0- =]+?( [^\\]]+?)?\\]","g"),Ce=new RegExp("\\[/[^<>&/\\[\\]\0- =]+?\\]","g"),be=new RegExp("\\["+we+"[^\\]]*?\\]","g"),_e=new RegExp("\\[\\/"+we+"\\]","g"),Te=new RegExp(we,"g"),Le=[],xe=function(e){return e=e.replace(Se,""),e=e.replace(Ce,"")},ke=function(e){var t=Le;if("string"==typeof e&&t.length>0)for(var n=0;n<t.length;n++)e=e.replace(t[n].shortcode,t[n].output);return e=xe(e)},Re=function(e,t){var n=He(Ie(e));if(!(n.length>0))return t();Oe(n,t)},He=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];-1===t.indexOf(o)&&Ee(o)&&t.push(o)}return t},Ee=function(e){for(var t=!1,n=0;n<Le.length;n++)Le[n].shortcode===e&&(t=!0);return!1===t},Ie=function(e){for(var t=Me(e),n=0;n<t.length;n++)e=e.replace(t[n],"");var o=Ae(e);return t.concat(o)},Me=function(e){for(var t=[],n=(e.match(_e)||[]).join(" ").match(Te)||[],o=0;o<n.length;o++){var i=n[o],a="\\["+i+"[^\\]]*?\\].*?\\[\\/"+i+"\\]",r=e.match(new RegExp(a,"g"))||[];t=t.concat(r)}return t},Ae=function(e){return e.match(be)||[]},Oe=function(e,t){f.ajax({type:"POST",url:webtexttoolnonce.ajaxurl,data:{action:webtexttoolnonce.action+"_convert_shortcodes",nonce:webtexttoolnonce.nonce,data:e},success:function(e){De(e,t)},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}})},De=function(e,t){e=JSON.parse(e);for(var n=0;n<e.length;n++)Le.push(e[n]);t()},Pe=function(){var t=document.getElementById("content")&&document.getElementById("content").value||"";Re(t,function(){e.HtmlContent=ke(t),null!==e.HtmlContent&&(e.runRules=!0,e.runSuggestions())})},Ne=function(){var t=document.getElementById("content")&&document.getElementById("content").value||"";Re(t,function(){var n=ke(t);e.HtmlContent=n,null!==e.HtmlContent&&(e.runRules=!0,e.runSuggestions())})};e.updateSuggestionsStart=function(){a(e.runSuggestions,e.runRulesTimeout)},e.rulesRunning=!1;var Ke=!1;e.seoClass="page-score",e.contentClass="gray-score",e.pageScoreChartOptions={segmentShowStroke:!1,showTooltips:!1,cutoutPercentage:70,responsive:!0,maintainAspectRatio:!1,animateRotate:!1};var je=function(e){return{datasets:[{borderColor:["#5cb85c","#cee9ce"],data:[e,100-e],backgroundColor:["#5cb85c","#eee"]}]}},Be=function(e){return{datasets:[{borderColor:["#D5D5D5","#D5D5D5"],data:[e,100-e],backgroundColor:["#D5D5D5","#eee"]}]}};e.showReadingLevelHelp={templateUrl:"readinginfo.html"},e.analyze=function(){H(e.HtmlContent)?d.error("Content is required"):e.userInfo.Features.indexOf("ContentQuality")>=0&&e.userInfo.Credits>=1?(e.QualityLevels=e.settings,qe(e.QualityLevels),M(20)):d.warning("Text Conversion Optimizer is not included in your subscription. Please upgrade or contact our support team for more info.","Oops.. You can't do this now. This might not be included in your current webtexttool plan or you have run out of credits for this month.",{closeButton:!0,timeOut:0,extendedTimeOut:3e3})},e.data=o.data,e.data.Resources.forEach(function(t,n){e.data.Resources[t.ResourceKey]=g.trustAsHtml(t.HtmlContent)});var $e=function(e){var t=n.defer(),o={Details:{ReadingLevel:e.Details.ReadingLevel,ReadingTime:e.Details.ReadingTime,ReadingValues:e.Details.ReadingValues}},i=f.extend({},o,e.Suggestions);return f.ajax({url:webtexttoolnonce.ajaxurl,type:"POST",dataType:"json",data:{action:webtexttoolnonce.action+"_content_quality_suggestions",nonce:webtexttoolnonce.nonce,data:i,postId:wtt_globals.postId},success:function(e){t.resolve(e)},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}}),t.promise},qe=function(e){var t=n.defer();return f.ajax({url:webtexttoolnonce.ajaxurl,type:"POST",dataType:"json",data:{action:webtexttoolnonce.action+"_content_quality_settings",nonce:webtexttoolnonce.nonce,data:e,postId:wtt_globals.postId},success:function(e){t.resolve(e)},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}}),t.promise};e.runSuggestions=function(){if(1==e.runRules&&!e.rulesRunning){e.rulesRunning=!0;var t=getHtmlContent(e.HtmlContent,e.Title,e.Description,e.permalink,e.Keyword,e.checkboxModel.isChecked);e.model={content:t,keywords:e.Keyword,languageCode:e.localLanguageCode,domain:e.domainUrl,synonyms:e.pageKeywordSynonyms,ruleSet:e.ruleSet},u.postData(y+"page/suggestions",e.model).then(function(t){if(Ke){var n=t.Suggestions;_.each(e.suggestions,function(e,t){e.Tag=n[t].Tag,e.Importance=n[t].Importance,e.Penalty=n[t].Penalty,e.Rules=n[t].Rules,e.Score=n[t].Score,s.computeDisplayType(e)})}else e.suggestions=t.Suggestions,Ke=!0;e.Score=t.PageScore,e.ScoreTag=t.PageScoreTag,e.runRules=!1,e.rulesRunning=!1,e.updateSuggestionsStart(),i(function(){Ue()}),e.$broadcast("runSuggestions",{engine:e.activeEngine})})}},e.selectEngine=function(t){e.activeEngine=t,e.$broadcast("runSuggestions",{engine:t})},e.updateSuggestions=function(){e.runRules=!0},e.$on("runSuggestions",function(t,n){e.loading=!1,e.showScore=!0,e.showError=!1,e.seoScoreTag=e.ScoreTag,e.contentScoreTag=e.QualityScoreTag,e.seoScore=Math.round(e.Score||0)+"%",e.contentScore=Math.round(e.QualityScore||0)+"%","seo"==n.engine?(e.seoClass="page-score",e.contentClass="gray-score",i(function(){e.seoPageScoreData=je(parseInt(e.seoScore)),e.contentPageScoreData=Be(parseInt(e.contentScore))},0)):"content"==n.engine?(e.seoClass="gray-score",e.contentClass="page-score",i(function(){e.seoPageScoreData=Be(parseInt(e.seoScore)),e.contentPageScoreData=je(parseInt(e.contentScore))},0)):"loading"==n.engine?(e.showScore=!1,e.loading=!0,e.scoreTag=".",e.primaryScore="Analyzing...",e.secondaryScore="."):"error"==n.engine&&(e.scoreTag=".",e.primaryScore="Analyzing...",e.secondaryScore=".",e.error=n.error,e.showError=!0,e.showScore=!1,e.loading=!1)});var Ue=function(){e.$broadcast("editPageController:selectNodes",U)},Qe=function(){var t=n.defer();return U=[],e.$broadcast("editPageController:selectNodes",U),t.resolve(),t.promise};f("input#title").focus(function(){Qe().then(function(){U=["TITLE"],Ue()})}),f("input#title").blur(function(){Qe()}),f("textarea#wtt_description").focus(function(){Qe().then(function(){U=["DESCRIPTION"],Ue()})}),f("textarea#wtt_description").blur(function(){Qe()}),e.pageHasKeyword=function(){return 0!=b("wtt-keyword-field").length};var Je=document.getElementById("wtt-keyword"),ze=document.getElementById("wtt-keyword-field"),Ge=b("wtt-keyword-field");0==Ge.length&&f(Je).keyup(function(){Je.setAttribute("value",f(this).val()),ze.setAttribute("value",f(this).val())}).keyup(),0!=Ge.length&&(Je.setAttribute("value",Ge),e.useMyKeyword()),0==Ge.length||e.isCollapsed||f(Je).keyup(function(){ze.setAttribute("value",f(this).val())});var Ve=function(){e.isModalOverlay(),i(function(){var t=K("content",!0);void 0!==window.et_builder_version?f.ajax({type:"POST",url:et_pb_options.ajaxurl,data:{action:"et_pb_execute_content_shortcodes",et_admin_load_nonce:et_pb_options.et_admin_load_nonce,et_pb_unprocessed_data:t},success:function(t){e.HtmlContent=t,e.updateSuggestions()},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}}):f.ajax({type:"POST",url:webtexttoolnonce.ajaxurl,data:{action:webtexttoolnonce.action+"_convert_divi_shortcodes",nonce:webtexttoolnonce.nonce,unprocessed_data:t},success:function(t){e.HtmlContent=t,e.updateSuggestions()},error:function(e,t,n){console.log(JSON.stringify(e)),console.log("AJAX error: "+t+" : "+n)}})},1e3)},We=function(){e.isModalOverlay()};switch(L()){case"DiviBuilder":var Fe;e.isModalOverlay=function(){Qe().then(function(){U=["MAINCONTENT"],Ue()}),Fe=a(function(){if(f("#et_pb_main_editor_wrap").hasClass("et_pb_hidden")){for(var t=document.getElementsByClassName("et_pb_modal_settings_container"),n=document.getElementsByClassName("et-pb-modal-save"),o=document.getElementsByClassName("et-pb-modal-close"),i=document.getElementsByClassName("et-pb-remove"),a=document.getElementsByClassName("et-pb-clone"),r=0;r<i.length;r++)i[r].addEventListener("click",Ve,!1),a[r].addEventListener("click",Ve,!1);for(var s=0;s<t.length;s++)if(0!==t.length)for(var l=0;l<n.length;l++)o[l].addEventListener("click",We,!1),n[l].addEventListener("click",Ve,!1),e.stopInterval()}else me(),e.stopInterval()},1e3)},e.isModalOverlay(),e.stopInterval=function(){a.cancel(Fe)};break;case"WooCommerce":if(e.ruleSet=2,"undefined"!=typeof tinymce)for(var Xe=0;Xe<tinymce.editors.length;Xe++)!function(t){var n=tinymce.editors[t].id;tinymce.get(n).isNotDirty=!1,tinymce.get(n).on("focus",function(){Qe().then(function(){U=["MAINCONTENT"],Ue()})}),tinymce.get(n).on("blur",function(){Qe()});var o=a(function(){if(tinymce.get(n).isDirty()&&!tinymce.get(n).isNotDirty){var t=R(tinymce.editors[0].id),o=R(tinymce.editors[1].id);e.HtmlContent=t.concat(o),null!==e.HtmlContent&&(e.updateSuggestions(),tinymce.get(n).isNotDirty=!0)}},1e3);tinymce.get(n).isNotDirty&&a.cancel(o)}(Xe);else console.error("TinyMCE editor is not enabled!");break;case"ACF":if("undefined"!=typeof tinymce){for(var Ye=[],Ze=0;Ze<tinymce.editors.length;Ze++)Ye.push(tinymce.editors[Ze].id);for(var et=0;et<Ye.length;et++)!function(t){var n=Ye[t];tinymce.get(n).isNotDirty=!1,tinymce.get(n).on("focus",function(){Qe().then(function(){U=["MAINCONTENT"],Ue()})}),tinymce.get(n).on("blur",function(){Qe()});var o=a(function(){tinymce.get(n).on("change",function(e){tinymce.get(n).isNotDirty=!1}),tinymce.get(n).isDirty()&&!tinymce.get(n).isNotDirty&&(e.HtmlContent=Z(),e.updateSuggestions(),tinymce.get(n).isNotDirty=!0)},3e3);tinymce.get(n).isNotDirty&&a.cancel(o)}(et)}else console.error("TinyMCE editor is not enabled!")}f("input#title").keyup(function(){e.Title=f(this).val(),null!=e.Title&&e.updateSuggestions()}),f("textarea#wtt_description").keyup(function(){e.Description=f(this).val(),null!=e.Description&&e.updateSuggestions()}),e.useKeyword=function(t){e.pageHasKeyword()?(Je.setAttribute("value",t.Keyword),ze.setAttribute("value",t.Keyword),e.Keyword=t.Keyword,e.Title=b("title"),e.Description=b("wtt_description"),tinymce.activeEditor?e.HtmlContent=tinymce.get("content").getContent():e.HtmlContent="",e.runRules=!0,e.runSuggestions(),i(function(){e.isCollapsed=!0,e.keywordSet=!0},500)):ze.setAttribute("value","")};var tt=r.get("wtt_keyword_source_lang");e.fillKeyword=function(t){f("#wtt-keyword").prop("value",t.Keyword),i(function(){e.submitSearchKeyword()},500)},e.searchModel={inputKeyword:"",KeywordSources:[],selectedSource:{},SearchResults:[]};var nt={en:"us"};e.selectKeywordSource=function(t){e.searchModel.selectedSource=t,r.put("wtt_keyword_source_lang",t.Value)};var ot=function(e){var t={0:"Very Poor",1:"Moderate",2:"Good"},n={0:"Overall Score Very Poor Help Content",1:"Overall Score Moderate Help Content",2:"Overall Score Good Help Content"},o={0:"interval-very-poor",1:"interval-moderate",2:"interval-good"},i={0:"label-danger",1:"label-warning",2:"label-success"},a={0:{className:"very-low",label:"Very Low",helpText:"Monthly search volume on this keyword is very low."},1:{className:"low",label:"Low",helpText:"Monthly search volume on this keyword is low."},2:{className:"moderate",label:"Moderate",helpText:"Monthly search volume on this keyword is moderate."},3:{className:"high",label:"High",helpText:"Monthly search volume on this keyword is high. A lot of searches are done on this keyword."},4:{className:"very-high",label:"Very High",helpText:"Monthly search volume on this keyword is very high. A lot of search are done on this keyword."}},r={4:{className:"very-easy",label:"Very Easy",helpText:"This means that competition is low on this keyword. Not a lot of (strong) sites are also optimised on this keyword."},3:{className:"easy",label:"Easy",helpText:"Competition on this keyword is not very strong. Not a lot of (strong) sites and pages are also optimised on this keyword."},2:{className:"moderate",label:"Moderate",helpText:"Competition on this keyword is moderate. Quite some (strong) sites and pages are also optimised on this keyword."},1:{className:"hard",label:"Hard",helpText:"Competition on this keyword is strong. A lot of (strong) sites and pages are also optimised on this keyword."},0:{className:"very-hard",label:"Very Hard",helpText:"Competition on this keyword is very strong. A lot of (strong) sites and pages are also optimised on this keyword."}};return _.each(e,function(e){e.OverallScore>=0?(e.OverallScoreClass=o[e.OverallScore],e.OverallScoreHelp=n[e.OverallScore],e.OverallScoreLabelClass=i[e.OverallScore],e.OverallScoreLabel=t[e.OverallScore]):(e.OverallScoreClass="interval-moderate",e.OverallScoreLabel="N/A",e.OverallScoreHelp="This is an estimation because we have limited data on keyword volume and/or competition",e.OverallScoreLabelClass="label-warning"),e.VolumeScore>=0?e.SearchVolumeScoreAttrs=a[e.VolumeScore]:e.SearchVolumeScoreAttrs={className:"moderate",label:"N/A",helpText:"This is a rough estimation because we have limited data on volume for this keyword."},e.CompetitionScore>=0?e.CompetitionScoreAttrs=r[e.CompetitionScore]:e.CompetitionScoreAttrs={className:"moderate",label:"N/A",helpText:"This is a rough estimation because we have limited data on competition for this keyword."}}),e};e.displaySearchVolume=function(e){return e<50?"< 50":e},e.submitSearchKeyword=function(){if(N()){if(!B())return void d.warning("Keyword is required!");e.searchPromise=l.searchKeyword(b("wtt-keyword"),e.searchModel.selectedSource.Value,e.localLanguageCode,10),e.searchPromise.then(function(t){i(function(){f("body").animate({scrollTop:f("#score-analysis-area").offset().top},1e3)}),e.searchModel.SearchResults=ot(t),e.inputKeywordResult=_.find(t,function(e){return 1==e.Selected})},function(){d.warning("This feature is available in paid webtexttool subscriptions. Please upgrade to use this feature. You have used all your available keyword search credits. Please upgrade your plan.")})}else d.warning("This feature is available in paid webtexttool subscriptions. Please upgrade to use this feature. You have used all your available keyword search credits. Please upgrade your plan.")},e.dynamicPopover={templateUrl:"moreinfo.html"};var it={Suggestions:{PageScore:0,Suggestions:[{Tag:"Readability",MetaTag:"Readability",Rules:null,Importance:40,Score:0,Penalty:0,Tooltip:null,SortIndex:1},{Tag:"Adjectives",MetaTag:"Adjectives",Rules:null,Importance:20,Score:0,Penalty:0,Tooltip:null,SortIndex:1},{Tag:"Whitespaces",MetaTag:"Whitespaces",Rules:null,Importance:15,Score:0,Penalty:0,Tooltip:null,SortIndex:1},{Tag:"Bulletpoints",MetaTag:"Bulletpoints",Rules:null,Importance:10,Score:0,Penalty:0,Tooltip:null,SortIndex:1},{Tag:"Gender",MetaTag:"Gender",Rules:null,Importance:15,Score:0,Penalty:0,Tooltip:null,SortIndex:1}],PageScoreTag:"Let’s get started!",RuleSet:"ContentQuality"}};j(),$(),e.QualityLevels="",""!==wtt_globals.getCQSettings&&(e.QualityLevels=wtt_globals.getCQSettings),e.QualityLevels?e.settings=e.QualityLevels:e.settings=E(),""!==wtt_globals.getLastSuggestions?(e.contentQualityDetails=wtt_globals.getLastSuggestions.Details,A(wtt_globals.getLastSuggestions,!1)):(e.contentQualitySuggestions=it.Suggestions.Suggestions,e.QualityScoreTag=it.Suggestions.PageScoreTag),document.getElementById("wtt-language-code-field").setAttribute("value",e.localLanguageCode),e.pageHasKeyword()?e.keywordSet=!0:(fe(!0),document.getElementById("process-title-as-h1").checked=!0,f("#wtt-keyword").focus()),e.activeLanguageCode=c.getActiveLanguageCode(),e.$on("userLanguageChanged",function(){e.activeLanguageCode=c.getActiveLanguageCode()}),e.setActiveLanguage=function(t){e.activeLanguageCode=t.LanguageCode,at(t.LanguageCode)};var at=function(t){u.postData(y+"user/language/"+t).then(function(){e.localLanguageCode=t,document.getElementById("wtt-language-code-field").setAttribute("value",t),e.$broadcast("languageChanged"),e.useMyKeyword()})}}):""!==wtt_globals.pageScore&&(e.seoScore=wtt_globals.pageScore)})}]),app.factory("suggestionsService",function(){return{computeDisplayType:function(e){e.displayScore=0==e.Score?.2*e.Importance:e.Score,e.progressType=e.Score<e.Importance/3?"danger":e.Score<e.Importance?"warning":"success"}}}),app.factory("synonymService",["$http","$q","httpService",function(e,t,n){var o=wtt_globals.wtt_base_api_url;return{getSynonyms:function(e){var i=o+"synonyms/"+encodeURI(e),a=t.defer();return n.getData(i).then(function(e){a.resolve(e)}),a.promise}}}]),app.factory("languageService",["$http","$q","httpService","$cookies",function(e,t,n,o){var i=wtt_globals.wtt_base_api_url;return{getLanguages:function(){return n.getData(i+"languages")},getActiveLanguageCode:function(){return _.isUndefined(o.get("wtt_lang"))?(window.navigator.userLanguage||window.navigator.language).indexOf("nl")>=0?"nl":"en":o.get("wtt_lang")}}}]),app.directive("enforceMaxTags",function(){return{require:"ngModel",link:function(e,t,n,o){var i=n.maxTags?parseInt(n.maxTags,"10"):null;o.$validators.checkLength=function(e){return e&&i&&e.length>i&&e.splice(e.length-1,1),e}}}}),app.directive("wttContentQuality",function(){return{template:'<div ng-include="getTemplateUrl()"></div>',link:function(e){e.getTemplateUrl=function(){return wtt_globals.pluginsUrl+"partials/directives/wtt-content-quality.html"}}}}),app.directive("wttSuggestion",["suggestionsService","$sce","stateService",function(e,t,n){return{template:'<div ng-include="getTemplateUrl()"></div>',scope:{suggestion:"=",uid:"=",index:"@"},replace:!0,link:function(o){function i(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0==+e?"":0==t?e.toLowerCase():e.toUpperCase()})}o.suggestion.selected=!1,o.suggestion.isCollapsed=!0,e.computeDisplayType(o.suggestion),o.getTemplateUrl=function(){return wtt_globals.pluginsUrl+"partials/directives/wtt-suggestion.html"};var a=n.data;o.data=a;var r={"Page Title":["TITLE"],"Page Description":["DESCRIPTION"],Headings:["HEADINGS"],"Main Content":["MAINCONTENT"],Miscellaneous:["MISCELLANEOUS"]}[o.suggestion.Tag];o.$on("editPageController:selectNodes",function(e,t){0===t.length?(o.suggestion.selected=!1,o.suggestion.Score==o.suggestion.Importance&&(o.suggestion.isCollapsed=!0)):(_.contains(t,"TITLE")||_.contains(t,"DESCRIPTION")?(o.suggestion.isCollapsed=!0,_.contains(t,"TITLE")&&"Page Title"==o.suggestion.Tag&&o.suggestion.Score!==o.suggestion.Importance&&(o.suggestion.isCollapsed=!1),_.contains(t,"DESCRIPTION")&&"Page Description"==o.suggestion.Tag&&o.suggestion.Score!==o.suggestion.Importance&&(o.suggestion.isCollapsed=!1)):"Page Title"==o.suggestion.Tag||"Page Description"==o.suggestion.Tag?o.suggestion.isCollapsed=!0:o.suggestion.Score!==o.suggestion.Importance&&(o.suggestion.isCollapsed=!1),_.each(r,function(e){if(_.contains(t,e))return o.suggestion.selected=!0,void(o.suggestion.isCollapsed=!1)}))}),a.Resources.forEach(function(e,n){a.Resources[e.ResourceKey]=t.trustAsHtml(e.HtmlContent)});!function(){var e=o.suggestion.Tag.replace(new RegExp(" ","g"),"")+"Label";o.displayName=a.Resources[e].toString(),o.name=o.suggestion.Tag.replace(new RegExp(" ","g"),"")+"Suggestion",o.tip=a.Resources[o.name],o.domId=i(o.suggestion.Tag)+"SuggestionBox"}()}}}]),app.directive("wttSuggestionContentQuality",["suggestionsService","$sce","stateService",function(e,t,n){return{template:'<div ng-include="getTemplateUrl()"></div>',scope:{settings:"=",suggestion:"=",uid:"=",index:"@"},replace:!0,link:function(o,i,a){function r(e,t){return{buttons:[],action:function(t){o.settings[e]=this.active?1:0,s(o.settings[e])},selected:function(t){return o.settings[e]===t.value},active:o.settings[e]>0,display:t}}o.getTemplateUrl=function(){return wtt_globals.pluginsUrl+"partials/directives/wtt-suggestion-content-quality.html"};var s=function(e){o.suggestion.selected=0!=e},l=n.data;o.data2=l;var u={Readability:{buttons:[{label:"Elementary",tip:"Elementary",value:"1"},{label:"Highschool",tip:"Highschool",value:"2"},{label:"University",tip:"University",value:"3"}],action:function(e){0==o.settings.DifficultWordsLevel&&0==e.value&&(e.value=1),o.settings.ReadingLevel=e.value,o.settings.DifficultWordsLevel=e.value,o.settings.LongSentencesLevel=e.value,s(e.value)},selected:function(e){return o.settings.ReadingLevel===e.value},active:o.settings.ReadingLevel>0},Adjectives:{buttons:[],action:function(e){o.settings.AdjectivesLevel=this.active?1:0,o.settings.AdjectiveList=o.settings.AdjectivesLevel,s(o.settings.AdjectivesLevel)},selected:function(e){return o.settings.AdjectivesLevel===e.value},active:o.settings.AdjectivesLevel>0},GenderList:r("GenderList","gradient"),Gender:{buttons:[{label:"Female",tip:"Female",value:"f"},{label:"Male",tip:"Male",value:"m"}],action:function(e){0===e.value?o.settings.GenderLevel?o.settings.GenderLevel="":o.settings.GenderLevel="m":o.settings.GenderLevel=e.value,s(o.settings.GenderLevel)},selected:function(e){return o.settings.GenderLevel===e.value},active:o.settings.GenderLevel&&!0},Bulletpoints:r("BulletPointsLevel"),Whitespaces:r("WhitespacesLevel"),Jargon:r("JargonList"),Repetition:r("RepetitionLevel"),SingularPlural:r("SingularPluralLevel","gradient"),TextLength:r("TextLengthRuleLevel","gradient")};o.actionConfig=u[o.suggestion.MetaTag],o.suggestion.selected=o.suggestion.Importance>0,o.suggestion.isCollapsed=!1,e.computeDisplayType(o.suggestion);var c=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0==+e?"":0==t?e.toLowerCase():e.toUpperCase()})};l.Resources.forEach(function(e,n){l.Resources[e.ResourceKey]=t.trustAsHtml(e.HtmlContent)});var g=function(){var e=o.suggestion.Tag.replace(new RegExp(" ","g"),"")+"Label";o.displayName=l.Resources[e].toString(),o.name=o.suggestion.Tag.replace(new RegExp(" ","g"),"")+"Suggestion",o.tip=l.Resources[o.name],o.domId=c(o.suggestion.Tag)+"SuggestionBox"};g(),o.$on("languageChanged",g),o.viewExtraInfoList=function(e){l.sliderInfo=JSON.parse(e.ExtraInfo),l.sliderInfo.tags=l.sliderInfo.List,"list"==l.sliderInfo.Type&&(l.sliderInfo.tags=_.chain(l.sliderInfo.List).groupBy(function(e){return e}).map(function(e,t){return{Name:t,Count:e.length}}).value()),jQuery("#slideout").addClass("on")}}}}]),app.directive("wttPageSlideout",function(){return{template:'<div ng-include="getTemplateUrl()"></div>',scope:{info:"="},replace:!0,link:function(e){e.getTemplateUrl=function(){return wtt_globals.pluginsUrl+"partials/directives/wtt-page-slideout.html"}}}}),app.factory("keywordService",["$http","$q","$rootScope","httpService",function(e,t,n,o){var i=wtt_globals.wtt_base_api_url+"keywords";return{getKeywordSources:function(){return o.getData(i+"/sources")},searchKeyword:function(e,n,a){var r=t.defer();return o.getData(i+"/"+e+"/"+n+"/"+a).then(function(e){r.resolve(e)},function(e){return r.reject(e)}),r.promise}}}]),app.factory("httpService",["$http","$q","toastr",function(e,t,n){return{getData:function(o){var i=t.defer();return e.get(o,{withCredentials:!0}).success(function(e,t,n,o){i.resolve(e)}).error(function(e,t){401!=t&&(500!=t?i.reject(e.Message):n.error('Please contact us at <a href="mailto:support@webtexttool.com">support@webtexttool.com</a>',"Something went wrong while retrieving the data!",{closeButton:!0,allowHtml:!0,timeOut:0,extendedTimeOut:0}))}),i.promise},postData:function(o,i){var a=t.defer();return e.post(o,i,{withCredentials:!0}).success(function(e,t,n,o){a.resolve(e)}).error(function(e,t){400!=t?401!=t?403!=t?500!=t?a.reject(e.Message):n.error('Please contact us at <a href="mailto:support@webtexttool.com">support@webtexttool.com</a>',"Something went wrong!",{closeButton:!0,allowHtml:!0,timeOut:0,extendedTimeOut:0}):n.error('Please contact us at <a href="mailto:support@webtexttool.com">support@webtexttool.com</a>',"You've reached the number of requests limit!",{closeButton:!0,allowHtml:!0,timeOut:0,extendedTimeOut:0}):n.error(e.Message,"Unauthorized",{closeButton:!0,allowHtml:!0,timeOut:0,extendedTimeOut:0}):n.error("Your request params are empty or invalid!","Bad Request",{closeButton:!0,allowHtml:!0,timeOut:0,extendedTimeOut:0})}),a.promise}}}]),app.factory("stateService",[function(){var e={Resources:[{ResourceKey:"CQGenericError",HtmlContent:"We’re sorry, we could not analyze your content. Please try again or contact support@webtexttool.com in case the issues persist.",LanguageCode:"en"},{ResourceKey:"ContentRequiredError",HtmlContent:"Your page needs some content.",LanguageCode:"en"},{ResourceKey:"ContentMinLengthError",HtmlContent:"Your page content must have at least 150 words.",LanguageCode:"en"},{ResourceKey:"GenericError",HtmlContent:"Something went wrong!",LanguageCode:"en"},{ResourceKey:"LanguageNotSupportedError",HtmlContent:"Detected language is not yet supported!",LanguageCode:"en"},{ResourceKey:"PageTitleLabel",HtmlContent:"Page Title",LanguageCode:"en"},{ResourceKey:"PageDescriptionLabel",HtmlContent:"Page Description",LanguageCode:"en"},{ResourceKey:"HeadingsLabel",HtmlContent:"Headings",LanguageCode:"en"},{ResourceKey:"MainContentLabel",HtmlContent:"Main Content",LanguageCode:"en"},{ResourceKey:"MiscellaneousLabel",HtmlContent:"Miscellaneous",LanguageCode:"en"},{ResourceKey:"HeadingsSuggestion",HtmlContent:"To optimize your content both in terms of readability and SEO, you should structure your content by adding several headings. At the start of your page you normally have an H1 / heading 1 with the title of your page. In some CMS&#39;s / themes this H1 is added automatically. If this is the case, you can select the option &quot;Process page title as H1&quot; from the settings above. Next to H1, you should add smaller heading (H2-H6) to structure your content even further.",LanguageCode:"en"},{ResourceKey:"MainContentSuggestion",HtmlContent:"Here you will find several important suggestions for your content. Please have a look at our knowledgebase (Learn tab in the app) to find more background information about these suggestions.",LanguageCode:"en"},{ResourceKey:"MiscellaneousSuggestion",HtmlContent:"Here you will find suggestions to optimize your content. These will have smaller impact on overall optimization, but are good to consider and see if they can fit in your content.",LanguageCode:"en"},{ResourceKey:"PageTitleSuggestion",HtmlContent:"<p>The Page title is important to search engines. And therefore it&#39;s important to you. Think of a catchy title that will trigger a user to click on your page when it&#39;s listed in the search results. Of course it should also cover the content of the page.</p>\r\n\t",LanguageCode:"en"},{ResourceKey:"PageDescriptionSuggestion",HtmlContent:"<p>The page description is important because it&#39;s shown in the search results and it will tell the search and the users what your page is about. So provide a good description of your content and make sure you follow the suggestion for creating a perfect description of your page.</p>\r\n\t",LanguageCode:"en"},{ResourceKey:"Heading1Suggestion",HtmlContent:"<p>A H1 / Header section at the beginning of your page is important because it&#39;s the readable introduction of your page. In some CMS&#39;s the Page Title is automatically inserted at the top of a page in H1/Header 1.</p>\r\n\t",LanguageCode:"en"},{ResourceKey:"Heading2to6Suggestion",HtmlContent:"<p>Use smaller headings (h2, h3, h4, h5 and/or h6) in your content to highlight / summarize paragraphs. Using headers will make it easier for you reader to &quot;scan&quot; the contents of your page. It allows you to catch the reader&#39;s attention.</p>\r\n\t",LanguageCode:"en"},{ResourceKey:"BodySuggestion",HtmlContent:"<p>These suggestions are related to overall content on your page. Our rules suggest a minimum number of words for your page. Also related to the length of your content, is the number of times you should use your keywords. This way you can avoid to put your keyword too many times in the content (&quot;keyword stuffing&quot;), but also make sure that you use your keyword enough times so it will be clear for the search engine what the content is about.</p>\r\n\t",LanguageCode:"en"},{ResourceKey:"ReadabilityLabel",HtmlContent:"Readability",LanguageCode:"en"},{ResourceKey:"AdjectivesLabel",HtmlContent:"Text credibility",LanguageCode:"en"},{ResourceKey:"GenderLabel",HtmlContent:"Target audience",LanguageCode:"en"},{ResourceKey:"WhitespacesLabel",HtmlContent:"Text layout",LanguageCode:"en"},{ResourceKey:"BulletpointsLabel",HtmlContent:"Bulletpoints",LanguageCode:"en"},{ResourceKey:"ReadabilitySuggestion",HtmlContent:"Readability: multiple checks on complexity level of the content (reading score/long sentences/difficult words).",LanguageCode:"en"},{ResourceKey:"AdjectivesSuggestion",HtmlContent:"Checks the use of adjectives in your text. Over- or underuse of adjectives will decrease effectiveness of your text.",LanguageCode:"en"},{ResourceKey:"GenderSuggestion",HtmlContent:"Gender check on level (confidence) of content target.",LanguageCode:"en"},{ResourceKey:"WhitespacesSuggestion",HtmlContent:"Checks the use of white spaces in your content. Use this to make your content easier to scan and read.",LanguageCode:"en"},{ResourceKey:"BulletpointsSuggestion",HtmlContent:"Checks the use of bulletpoints in your content. Use these to make the text easier to scan and read.",LanguageCode:"en"}],loading:!1,showSpinner:!0,languages:null,sliderInfo:null};return{data:e,clear:function(){e.languages=null,e.sliderInfo=null}}}]),app.factory("authInterceptor",["$q",function(e){return{request:function(e){return e.url.indexOf(wtt_globals.wtt_short_url)>0&&(e.headers=e.headers||{},e.headers.Authorization="Bearer "+localStorage.getItem("wtt_token"),e.headers.WttSource="WordPress"),e},response:function(t){return t||e.when(t)}}}]);